<div
  class="inline__toolbar"
  [style.left.px]="position().x"
  [style.top.px]="position().y"
  [class.inline__toolbar--top]="position().position === 'top'"
  [class.inline__toolbar--bottom]="position().position === 'bottom'"
>
  <div class="inline__toolbar__content">
    <div class="inline__toolbar__group">
      <div class="inline__toolbar__dropdown__wrapper">
        <button
          class="inline__toolbar__dropdown"
          [disabled]="isOnLink()"
          zapEditorTooltip="Block Style"
          (click)="toggleDropdown('block_style')"
        >
          <div class="trigger">
            <span>Tt</span>
            <i class="fa-regular fa-chevron-down"></i>
          </div>
        </button>
        @if (showDropdown === 'block_style') {
        <div class="inline__toolbar__dropdown__content">
          @for (style of blockStyles; track $index) {
          <div
            class="inline__toolbar__option"
            (click)="selectBlockStyle($event, style.value)"
          >
            <span [ngClass]="style.value">{{ style.label }}</span>
            <span class="shortcut">{{ style.cmd }}</span>
          </div>
          }
        </div>
        }
      </div>
    </div>

    <div class="inline__toolbar__group">
      <button
        class="inline__toolbar__button"
        [class.inline__toolbar__button--active]="isBold()"
        (click)="bold.emit()"
        zapEditorTooltip="Bold (Ctrl+B)"
      >
        <i class="fa-regular fa-bold"></i>
      </button>
      <button
        class="inline__toolbar__button"
        [class.inline__toolbar__button--active]="isItalic()"
        (click)="italic.emit()"
        zapEditorTooltip="Italic (Ctrl+I)"
      >
        <i class="fa-regular fa-italic"></i>
      </button>
      <button
        class="inline__toolbar__button"
        [class.inline__toolbar__button--active]="isUnderline()"
        (click)="underline.emit()"
        zapEditorTooltip="Underline (Ctrl+U)"
      >
        <i class="fa-regular fa-underline"></i>
      </button>
      <div class="inline__toolbar__dropdown__wrapper">
        <button
          class="inline__toolbar__dropdown"
          zapEditorTooltip="Text Formatting"
          (click)="toggleDropdown('text_formatting')"
        >
          <i class="fa-regular fa-ellipsis-vertical"></i>
        </button>
        @if (showDropdown === 'text_formatting') {
        <div class="inline__toolbar__dropdown__content">
          @for (style of textFormattingStyles; track $index) {
          <div
            class="inline__toolbar__option"
            (click)="selectTextFormattingOptions($event, style.value)"
          >
            <span>{{ style.label }}</span>
            <span class="shortcut">{{ style.cmd }}</span>
          </div>
          }
        </div>
        }
      </div>
    </div>

    <div class="inline__toolbar__separator"></div>

    <div class="inline__toolbar__group">
      <button
        class="inline__toolbar__button"
        [class.inline__toolbar__button--active]="isAlignLeft()"
        (click)="align.emit('left')"
        zapEditorTooltip="Align Left"
      >
        <i class="fa-regular fa-align-left"></i>
      </button>
      <button
        class="inline__toolbar__button"
        [class.inline__toolbar__button--active]="isAlignCenter()"
        (click)="align.emit('center')"
        zapEditorTooltip="Align Center"
      >
        <i class="fa-regular fa-align-center"></i>
      </button>
      <button
        class="inline__toolbar__button"
        [class.inline__toolbar__button--active]="isAlignRight()"
        (click)="align.emit('right')"
        zapEditorTooltip="Align Right"
      >
        <i class="fa-regular fa-align-right"></i>
      </button>
      <button
        class="inline__toolbar__button"
        [class.inline__toolbar__button--active]="isAlignJustify()"
        (click)="align.emit('justify')"
        zapEditorTooltip="Justify"
      >
        <i class="fa-regular fa-align-justify"></i>
      </button>
    </div>

    <div class="inline__toolbar__separator"></div>
    <div class="inline__toolbar__group">
      <button
        class="inline__toolbar__button"
        (click)="list.emit('bullet')"
        zapEditorTooltip="Bullet List"
      >
        <i class="fa-regular fa-list-ul"></i>
      </button>
      <button
        class="inline__toolbar__button"
        (click)="list.emit('numbered')"
        zapEditorTooltip="Numbered List"
      >
        <i class="fa-regular fa-list-ol"></i>
      </button>
      <button
        class="inline__toolbar__button"
        (click)="list.emit('todo')"
        zapEditorTooltip="Todo List"
      >
        <i class="fa-regular fa-list-check"></i>
      </button>
    </div>

    <div class="inline__toolbar__separator"></div>

    <div class="inline__toolbar__group">
      <div class="inline__toolbar__dropdown__wrapper">
        <button
          class="inline__toolbar__dropdown"
          [disabled]="isOnLink()"
          zapEditorTooltip="Text Color"
          (click)="toggleDropdown('color')"
        >
          <div class="trigger">
            <span class="color" [style.background]="currentColor()"></span>
          </div>
        </button>
        @if (showDropdown === 'color') {
        <div class="inline__toolbar__dropdown__content color__dropdown">
          @for (color of colors; track $index) {
          <div
            class="inline__toolbar__option"
            [style.background]="color.value"
            (click)="selectColor($event, color.value)"
          >
            <span class="sr-only">{{ color.label }}</span>
          </div>
          }
        </div>
        }
      </div>
      <button
        class="inline__toolbar__button"
        (click)="codeBlock.emit()"
        zapEditorTooltip="Code Block"
      >
        <i class="fa-regular fa-code"></i>
      </button>
      <div class="inline__toolbar__dropdown__wrapper">
        <button
          class="inline__toolbar__dropdown"
          [disabled]="isOnLink()"
          (click)="onLinkClick()"
          zapEditorTooltip="Insert Link"
        >
          <div><i class="fa-regular fa-link"></i></div>
        </button>
        @if (showDropdown === 'link') {
        <div class="inline__toolbar__dropdown__content link__editor">
          <ze-link-card
            [href]="href()"
            [text]="text()"
            (add)="addLink($event)"
          ></ze-link-card>
        </div>
        }
      </div>
    </div>
  </div>
</div>
